"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[255],{6255:(q,h,c)=>{c.r(h),c.d(h,{BlogModule:()=>P});var f=c(6814),o=c(6223),t=c(5879),g=c(9229),d=c(770);let _=(()=>{var i;class s{constructor(e,n,a){this.formbuilder=e,this.toastr=n,this._blog=a}ngOnInit(){this.newpostForm=this.formbuilder.group({title:["",[o.kI.required]],category:["",[o.kI.required]],description:["",[o.kI.required,o.kI.minLength(50)]],author:["",[o.kI.required]],blogImage:[""]})}onFileSelected(e){this.file=e.target.files[0],console.log(this.file)}onPublish(){if(this.newpostForm.valid){const n=this.newpostForm.value;var e=new FormData;e.append("title",n.title),e.append("category",n.category),e.append("description",n.description),e.append("author",n.author),e.append("blogImage",this.file),this._blog.createBlog(e).subscribe({next:a=>{console.log(a),this.newpostForm.reset({category:""}),this.toastr.success(a.message)},error:a=>{console.log(a),this.toastr.error(a.error.message)}})}else this.toastr.warning("All Fields are Required")}}return(i=s).\u0275fac=function(e){return new(e||i)(t.Y36(o.qu),t.Y36(g._W),t.Y36(d.Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-newpost"]],decls:26,vars:1,consts:[[1,"post-container"],[1,"container"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],["type","text","placeholder","Title","formControlName","title"],["formControlName","category"],["value","","disabled","","selected",""],["value","technology"],["value","science"],["value","travel"],["value","food"],["value","lifestyle"],["value","other"],["placeholder","Description","rows","6","formControlName","description"],["type","text","placeholder","Author Name","formControlName","author"],["type","file","name","blogImage","formControlName","blogImage",1,"form-control","text-start",3,"change"],["type","submit",1,"mt-5"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"Create a Blog Post"),t.qZA(),t.TgZ(4,"form",2),t.NdJ("ngSubmit",function(){return n.onPublish()}),t._UZ(5,"input",3),t.TgZ(6,"select",4)(7,"option",5),t._uU(8,"Select Category"),t.qZA(),t.TgZ(9,"option",6),t._uU(10,"Technology"),t.qZA(),t.TgZ(11,"option",7),t._uU(12,"Science"),t.qZA(),t.TgZ(13,"option",8),t._uU(14,"Travel"),t.qZA(),t.TgZ(15,"option",9),t._uU(16,"Food"),t.qZA(),t.TgZ(17,"option",10),t._uU(18,"Lifestyle"),t.qZA(),t.TgZ(19,"option",11),t._uU(20,"Other"),t.qZA()(),t._UZ(21,"textarea",12)(22,"input",13),t.TgZ(23,"input",14),t.NdJ("change",function(l){return n.onFileSelected(l)}),t.qZA(),t.TgZ(24,"button",15),t._uU(25,"Publish"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.newpostForm))},dependencies:[o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background-color:#fff;box-shadow:0 0 10px #0000001a;border-radius:3px}h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:10px}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px;font-size:16px}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;font-size:18px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 767px){.post-container[_ngcontent-%COMP%]{padding:10px}}@media (min-width: 768px) and (max-width: 991px){.post-container[_ngcontent-%COMP%]{padding:40px}}@media (min-width: 992px){.post-container[_ngcontent-%COMP%]{padding:10px}}"]}),s})();var b=c(8984);let C=(()=>{var i;class s{constructor(e,n,a){this._auth=e,this.toastr=n,this.formBuilder=a}ngOnInit(){this.initializeForm(),this.getsettingData()}initializeForm(){this.settingForm=this.formBuilder.group({fname:["",[o.kI.required]],lname:["",[o.kI.required]],email:["",[o.kI.required]],password:["",[o.kI.required]],channel:["",[o.kI.required]]})}getsettingData(){const e=localStorage.getItem("token");e&&this._auth.getUserData(e).subscribe({next:n=>{this.id=n.userdata[0]._id,this.settingForm.patchValue({fname:n.userdata[0].fname,lname:n.userdata[0].lname,email:n.userdata[0].email,password:n.userdata[0].password,channel:n.userdata[0].channel})},error:n=>{console.log(n)}})}onFileSelected(e){this.file=e.target.files[0],console.log(this.file)}onSubmit(){console.log(this.settingForm.value),this.settingForm.valid?this._auth.updateSetting({settingdata:this.settingForm.value,id:this.id}).subscribe({next:n=>{console.log(n),this.toastr.success(n.message),this.getsettingData()},error:n=>{console.log(n),this.toastr.error(n.error.message)}}):(this.toastr.warning("All Fields Required"),console.log("All Fields Required"))}}return(i=s).\u0275fac=function(e){return new(e||i)(t.Y36(b.$),t.Y36(g._W),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-setting"]],decls:27,vars:1,consts:[[1,"setting-container"],[1,"container"],["enctype","multipart/form-data",1,"settings-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","first-name"],["type","text","id","first-name","name","first-name","placeholder","Enter your first name","formControlName","fname"],["for","last-name"],["type","text","id","last-name","name","last-name","placeholder","Enter your last name","formControlName","lname"],["for","email"],["type","email","id","email","name","email","placeholder","Enter your email","formControlName","email"],["for","password"],["type","password","id","password","name","password","placeholder","Enter your new password","formControlName","password"],["for","channel-name"],["type","text","id","channel-name","name","channel-name","placeholder","Enter your blog channel name","formControlName","channel"],["type","submit"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"User Account Settings"),t.qZA(),t.TgZ(4,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(5,"div",3)(6,"label",4),t._uU(7,"First Name"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",3)(10,"label",6),t._uU(11,"Last Name"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",3)(14,"label",8),t._uU(15,"Email"),t.qZA(),t._UZ(16,"input",9),t.qZA(),t.TgZ(17,"div",3)(18,"label",10),t._uU(19,"Password"),t.qZA(),t._UZ(20,"input",11),t.qZA(),t.TgZ(21,"div",3)(22,"label",12),t._uU(23,"Blog Channel Name"),t.qZA(),t._UZ(24,"input",13),t.qZA(),t.TgZ(25,"button",14),t._uU(26,"Save Changes"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.settingForm))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background-color:#fff;box-shadow:0 0 10px #0000001a;border-radius:3px}h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:20px}.settings-form[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:flex;font-size:18px;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px;background-color:#f3fdff}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#00ff37;color:#fff;border:none;border-radius:5px;font-size:18px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#00b318}@media (max-width: 767px){.setting-container[_ngcontent-%COMP%]{padding:10px}h1[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:20px}}@media (min-width: 768px) and (max-width: 991px){.setting-container[_ngcontent-%COMP%]{padding:40px}}@media (min-width: 992px){.setting-container[_ngcontent-%COMP%]{padding:10px}}"]}),s})();var p=c(7700),Z=c(2296);let y=(()=>{var i;class s{constructor(e,n,a,l,u){this.data=e,this.ref=n,this._blog=a,this.toastr=l,this.formBuilder=u,this.closingdata=""}ngOnInit(){this.inputdata=this.data,console.log(this.inputdata),this.id=this.inputdata.blogdata._id,this.initializeForm(),this.updateForm.patchValue({title:this.inputdata.blogdata.title,category:this.inputdata.blogdata.category,description:this.inputdata.blogdata.description,author:this.inputdata.blogdata.author,blogImage:this.inputdata.blogdata.blogImage})}initializeForm(){this.updateForm=this.formBuilder.group({title:["",[o.kI.required]],category:["",[o.kI.required]],description:["",[o.kI.required]],author:["",[o.kI.required]],blogImage:[""]})}onFileSelected(e){this.file=e.target.files[0]}onSubmit(){console.log(this.updateForm.value);var e=new FormData;e.append("title",this.updateForm.value.title),e.append("category",this.updateForm.value.category),e.append("description",this.updateForm.value.description),e.append("author",this.updateForm.value.author),e.append("blogImage",this.file),this.updateForm.valid?this._blog.updateBlog(e,this.id).subscribe({next:n=>{this.closingdata=n.blogData,this.ref.close(this.closingdata),this.toastr.success(n.message)},error:n=>{console.log(n),this.toastr.error(n.error.message)}}):(this.toastr.warning("All Fields Required"),console.log("All Fields Required"))}}return(i=s).\u0275fac=function(e){return new(e||i)(t.Y36(p.WI),t.Y36(p.so),t.Y36(d.Z),t.Y36(g._W),t.Y36(o.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-update-dialog"]],decls:27,vars:2,consts:[["mat-dialog-title","",1,"text-center"],["mat-dialog-content",""],[1,"container"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Title","formControlName","title"],["formControlName","category"],["value","","disabled","","selected",""],["value","technology"],["value","science"],["value","travel"],["value","food"],["value","lifestyle"],["value","other"],["placeholder","Description","rows","3","formControlName","description"],["type","text","placeholder","Author Name","formControlName","author"],["type","file","name","blogImage","formControlName","blogImage",1,"form-control","text-start",3,"change"],["type","submit","mat-raised-button","","color","accent",1,"mt-3"],["mat-dialog-actions",""]],template:function(e,n){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t._UZ(5,"input",4),t.TgZ(6,"select",5)(7,"option",6),t._uU(8,"Select Category"),t.qZA(),t.TgZ(9,"option",7),t._uU(10,"Technology"),t.qZA(),t.TgZ(11,"option",8),t._uU(12,"Science"),t.qZA(),t.TgZ(13,"option",9),t._uU(14,"Travel"),t.qZA(),t.TgZ(15,"option",10),t._uU(16,"Food"),t.qZA(),t.TgZ(17,"option",11),t._uU(18,"Lifestyle"),t.qZA(),t.TgZ(19,"option",12),t._uU(20,"Other"),t.qZA()(),t._UZ(21,"textarea",13)(22,"input",14),t.TgZ(23,"input",15),t.NdJ("change",function(l){return n.onFileSelected(l)}),t.qZA(),t.TgZ(24,"button",16),t._uU(25,"Update"),t.qZA()()()(),t._UZ(26,"div",17)),2&e&&(t.xp6(1),t.Oqu(n.inputdata.title),t.xp6(3),t.Q6J("formGroup",n.updateForm))},dependencies:[Z.lW,p.uh,p.xY,p.H8,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u],styles:[".container[_ngcontent-%COMP%]{margin:0 auto;border-radius:3px}h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:10px}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px;font-size:16px}@media (max-width: 767px){.post-container[_ngcontent-%COMP%]{padding:10px}}@media (min-width: 768px) and (max-width: 991px){.post-container[_ngcontent-%COMP%]{padding:40px}}@media (min-width: 992px){.post-container[_ngcontent-%COMP%]{padding:10px}}"]}),s})();var x=c(7337),m=c(3403);function v(i,s){if(1&i){const r=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"img",5),t.qZA(),t.TgZ(4,"div",6)(5,"div")(6,"h2"),t._uU(7),t.qZA(),t.TgZ(8,"p",7),t._uU(9),t.qZA(),t.TgZ(10,"p",8),t._uU(11),t.qZA(),t.TgZ(12,"p",9),t._uU(13),t.qZA()()(),t.TgZ(14,"div",10)(15,"div")(16,"button",11),t.NdJ("click",function(){const a=t.CHM(r).$implicit,l=t.oxw();return t.KtG(l.Openpopup(a))}),t._UZ(17,"i",12),t.qZA()(),t.TgZ(18,"div")(19,"button",13),t.NdJ("click",function(){const a=t.CHM(r).$implicit,l=t.oxw();return t.KtG(l.deleteBlog(a._id))}),t._UZ(20,"i",14),t.qZA()(),t.TgZ(21,"div")(22,"button",15),t._UZ(23,"i",16),t.qZA()(),t.TgZ(24,"div")(25,"button",17),t.NdJ("click",function(){const a=t.CHM(r).$implicit,l=t.oxw();return t.KtG(l.shareOnWhatsApp(a._id))}),t._UZ(26,"i",18),t.qZA()()()()()}if(2&i){const r=s.$implicit,e=t.oxw();t.xp6(3),t.Q6J("src",e.apiUrl+"/"+r.blogImage,t.LSH),t.xp6(4),t.Oqu(r.title),t.xp6(2),t.hij("Category: ",r.category,""),t.xp6(2),t.Oqu(r.description),t.xp6(2),t.hij("Author: ",r.author,"")}}const O=[{path:"newpost",component:_},{path:"history",component:(()=>{var i;class s{constructor(e,n,a,l){this._blog=e,this.toastr=n,this.dialog=a,this.router=l,this.blogArray=[],this.apiUrl=x.N.apiUrl,this.frontendUrl=x.N.frontendUrl}ngOnInit(){this.getBlogData()}getBlogData(){this._blog.getBlog().subscribe({next:e=>{this.blogArray=e.blogposts},error:e=>{console.log(e)}})}deleteBlog(e){this._blog.deleteBlog(e).subscribe({next:a=>{console.log(a),this.toastr.success(a.message),this.getBlogData()},error:a=>{console.log(a),this.toastr.error(a.error.message)}})}Openpopup(e){this.dialog.open(y,{width:"400px",height:"500px",data:{title:"Update Blog Post",blogdata:e}}).afterClosed().subscribe(a=>{console.log(a),this.getBlogData()})}shareOnWhatsApp(e){const n=e,w=(this.blogArray.find(U=>U._id===n),`https://api.whatsapp.com/send?text=${encodeURIComponent(this.frontendUrl+`${this.router.url}`)}`);window.open(w,"_blank")}}return(i=s).\u0275fac=function(e){return new(e||i)(t.Y36(d.Z),t.Y36(g._W),t.Y36(p.uw),t.Y36(m.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-history"]],decls:4,vars:1,consts:[[1,"container"],["class","blogcard",4,"ngFor","ngForOf"],[1,"blogcard"],[1,"blog-content"],[1,"image"],["id","blog_image","alt","blog_image",3,"src"],[1,"content"],[1,"category"],[1,"description"],[1,"author"],[1,"actions"],[1,"update",3,"click"],[1,"fas","fa-edit"],[1,"delete",3,"click"],[1,"fas","fa-trash"],["routerLink","/",1,"view"],[1,"fas","fa-eye"],[1,"share",3,"click"],[1,"fas","fa-share"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Blog History"),t.qZA(),t.YNc(3,v,27,5,"div",1),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",n.blogArray))},dependencies:[f.sg,m.rH],styles:[".container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px}h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:20px}.blogcard[_ngcontent-%COMP%]{box-shadow:0 0 10px #0000001a;padding:20px;margin-bottom:20px;display:flex;align-items:center}.image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;max-width:200px;margin:0 auto;overflow:hidden}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.blog-content[_ngcontent-%COMP%]{width:100%;display:flex}.content[_ngcontent-%COMP%]{display:flex;text-align:start;justify-content:flex-start;align-items:center;font-size:small;width:100%;padding:1px;margin-left:20px}.content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;margin:10px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;margin:5px}h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.category[_ngcontent-%COMP%]{font-size:16px;color:#666}.author[_ngcontent-%COMP%]{font-size:12px;color:#acacac}.description[_ngcontent-%COMP%]{font-size:18px;margin-top:10px}.actions[_ngcontent-%COMP%]{flex:1;text-align:right;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;gap:5px}button[_ngcontent-%COMP%]{background-color:#0aadff;color:#fff;border:none;border-radius:3px;font-size:10px;cursor:pointer}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]:last-child{margin-right:0}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:10px}.blogcard[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:left;align-items:stretch;padding:5px}.blog-content[_ngcontent-%COMP%]{display:flex}.image[_ngcontent-%COMP%]{display:flex;justify-content:center}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;font-size:small;width:100%;padding:1px;margin-left:10px}.content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px;margin:0}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;margin:0}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:5px}button[_ngcontent-%COMP%]{background-color:#0aadff;color:#fff;border:none;border-radius:3px;font-size:10px;cursor:pointer}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]:last-child{margin-right:0}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}}@media screen and (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{width:100%;margin:0 auto}}"]}),s})()},{path:"settings",component:C}];let P=(()=>{var i;class s{}return(i=s).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f.ez,m.Bz.forChild(O),o.UX]}),s})()}}]);